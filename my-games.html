<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Мої ігри</title>
    <link rel="stylesheet" href="./library.css" />
    <script src="./games.js" defer></script>
    <script src="./js.js" defer></script>
    <script src="./games/gamePage.js" defer></script>

    <script src="./my-games.js" defer></script>
  </head>
  <body class="library-page">
    <header class="navbar border-b w-full font-medium">
      <div class="logo">
        <a href="./index.html"><div class="icon">GP</div></a>
        <span>GamePortal</span>
      </div>
      <nav class="menu py-2">
        <a href="./index.html" class="font-medium">Магазин</a>
        <a href="./library.html" class="font-medium">Бібліотека</a>
        <a href="./my-games.html" class="font-medium">Моя гра</a>
        <a href="#" class="font-medium">Друзі</a>
        <a href="#" class="font-medium">Спільнота</a>
        <a href="#" class="font-medium">Підтримка</a>
        <button id="create-game-btn" class="signin font-medium">
          Створити гру
        </button>
      </nav>
      <div class="actions">
        <div id="auth-section"></div>
        <div id="wallet-section"></div>
      </div>
    </header>

    <div class="library-container">
      <aside class="sidebar">
        <h3>Мої ігри</h3>
        <ul class="game-list">
          <li class="game-item active">Створені ігри</li>
        </ul>
      </aside>
      <main class="main-content">
        <div class="game-grid" id="my-games-grid"></div>
        <div id="my-games-empty" style="display: none">
          Ви ще не створили жодної гри.
        </div>
      </main>
    </div>

    <!-- Модальна форма для створення гри -->
    <div id="createGameModal" class="modal">
      <div class="modal-content create-game-modal">
        <span id="closeCreateGameModal" class="close">×</span>
        <h2>Створити власну гру</h2>
        <p>Вартість створення гри: 100 грн</p>
        <form id="createGameForm">
          <div class="form-group">
            <label for="gameIcon">Іконка гри</label>
            <input type="file" id="gameIcon" accept="image/*" required />
            <img
              id="iconPreview"
              src="#"
              alt="Попередній перегляд іконки"
              style="display: none; max-width: 100%; margin-top: 10px"
            />
          </div>
          <div class="form-group">
            <label for="gameScreenshots">Скріншоти гри</label>
            <input type="file" id="gameScreenshots" accept="image/*" multiple />
            <div
              id="screenshotsPreview"
              style="display: flex; flex-wrap: wrap"
            ></div>
          </div>
          <div class="form-group">
            <label for="gameTitle">Назва гри</label>
            <input type="text" id="gameTitle" required />
          </div>
          <div class="form-group">
            <label for="gameDescription">Опис</label>
            <textarea id="gameDescription" rows="5" required></textarea>
          </div>
          <div class="form-group">
            <label for="gamePrice">Ціна (грн)</label>
            <input
              type="number"
              id="gamePrice"
              min="0"
              placeholder="0 для безкоштовної гри"
            />
          </div>
          <div class="form-group">
            <label>Теги</label>
            <select id="gameTags" multiple required></select>
          </div>
          <button type="submit" class="signin font-medium">Створити гру</button>
        </form>
      </div>
    </div>

    <!-- Модальне вікно для помилки -->
    <div id="downloadModal" class="modal">
      <div class="modal-content">
        <span id="closeModal" class="close">×</span>
        <h2>Помилка</h2>
        <p>Неможливо відкрити сторінку з грою.</p>
        <button id="okButton" class="signin">ОК</button>
      </div>
    </div>

    <div id="insufficientFundsModal" class="modal">
      <div class="modal-content">
        <span id="closeInsufficientFundsModal" class="close">×</span>
        <h2>Недостатньо коштів</h2>
        <p>
          У вас недостатньо коштів для створення гри. Будь ласка, поповніть
          гаманець у
          <a href="./profile.html" class="profile-link">вашому профілі</a>.
        </p>
      </div>
    </div>
  </body>
</html>
